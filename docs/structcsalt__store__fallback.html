<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ceasoning: csalt_store_fallback Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ceasoning
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">csalt_store_fallback Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The csalt_store_fallback_store is a <a class="el" href="structcsalt__store__list.html" title="Most abstract stores are implemented as csalt_store_lists, with different algorithms for iterating ov...">csalt_store_list</a> providing fallback logic for operations on the stores.  
 <a href="structcsalt__store__fallback.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="compositestores_8h_source.html">csalt/compositestores.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for csalt_store_fallback:</div>
<div class="dyncontent">
<div class="center"><img src="structcsalt__store__fallback__coll__graph.png" border="0" usemap="#csalt__store__fallback_coll__map" alt="Collaboration graph"/></div>
<map name="csalt__store__fallback_coll__map" id="csalt__store__fallback_coll__map">
<area shape="rect" title="The csalt_store_fallback_store is a csalt_store_list providing fallback logic for operations on the s..." alt="" coords="9,213,161,240"/>
<area shape="rect" href="structcsalt__store__list.html" title="Most abstract stores are implemented as csalt_store_lists, with different algorithms for iterating ov..." alt="" coords="25,124,145,151"/>
<area shape="rect" href="structcsalt__store__interface.html" title=" " alt="" coords="5,5,164,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a9065c5d97bfdf2c344e78bdce8811961"><td class="memItemLeft" align="right" valign="top"><a id="a9065c5d97bfdf2c344e78bdce8811961"></a>
struct <a class="el" href="structcsalt__store__list.html">csalt_store_list</a>&#160;</td><td class="memItemRight" valign="bottom"><b>list</b></td></tr>
<tr class="separator:a9065c5d97bfdf2c344e78bdce8811961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced792e28fcac2730f7591f71f12a5e4"><td class="memItemLeft" align="right" valign="top"><a id="aced792e28fcac2730f7591f71f12a5e4"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>amount_written</b></td></tr>
<tr class="separator:aced792e28fcac2730f7591f71f12a5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The csalt_store_fallback_store is a <a class="el" href="structcsalt__store__list.html" title="Most abstract stores are implemented as csalt_store_lists, with different algorithms for iterating ov...">csalt_store_list</a> providing fallback logic for operations on the stores. </p>
<p>The behaviour of this store is intended to mimick caching logic. It prevents reading/writing from later stores if data was found previously, allowing you to skip slow stores if a faster store holds the correct data.</p>
<p>On <a class="el" href="basestores_8h.html#adda04cfbc7d9065f56ba32fb7698b774" title="Function for reading from a store into a buffer.">csalt_store_read()</a>, the read is first attempted on the first item in the list. If that item returns the amount expected, the whole fallback returns; otherwise, the next item is attempted. The fallback store keeps iterating through the list until a store reads the expected amount of bytes, or the list is exhausted.</p>
<p>If complete data is found in a store, it is written to the stores that came before it.</p>
<p>If the store reaches the end of the list without reading the full amount of bytes expected, it reads from the store which returned the most bytes and returns the amount of bytes read from that store.</p>
<p>Standard <a class="el" href="basestores_8h.html#af08cbcd3a9ab090e7cea564de5374541" title="Function for writing to a store from a buffer.">csalt_store_write()</a> calls only write to the first store in the list. To write-out the contents of the last write to the rest of the stores, you can use <a class="el" href="compositestores_8h.html#aafaaddf442c03aa12d964e90b4785a75" title="Writes out data from the first store into all stores after it.">csalt_store_fallback_flush()</a>. More nuanced write behaviour can be achieved by writing to individual stores retrieved with <a class="el" href="compositestores_8h.html#a90d4e8f264c1d277991414fc4bb3d685" title="Returns the store at the given index.">csalt_store_list_get()</a>.</p>
<p>The <a class="el" href="basestores_8h.html#aef31425e1aeff00a39c9cac218d10b7c" title="Returns the current size of the given store.">csalt_store_size()</a> call returns the smallest reported size of all the stores, allowing for safe reads and writes.</p>
<p>Calling <a class="el" href="basestores_8h.html#a10f600145423c05afe3bc2c1d44bd101" title="Provides the means to divide a store into a sub-section and perform an operation on the result.">csalt_store_split()</a> on a fallback store provides a fallback store in which every store it contains is split by the given amount. This requires at least one dynamic memory allocation. </p>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>csalt/<a class="el" href="compositestores_8h_source.html">compositestores.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
