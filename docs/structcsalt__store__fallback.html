<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ceasoning: csalt_store_fallback Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ceasoning
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">csalt_store_fallback Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements a fallback mechanism for read operations.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="store_2fallback_8h_source.html">csalt/store/fallback.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for csalt_store_fallback:</div>
<div class="dyncontent">
<div class="center"><img src="structcsalt__store__fallback__coll__graph.png" border="0" usemap="#acsalt__store__fallback_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6eebad396d3783c275f5ad2bfbddb109" id="r_a6eebad396d3783c275f5ad2bfbddb109"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcsalt__store__fallback.html">csalt_store_fallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6eebad396d3783c275f5ad2bfbddb109">csalt_store_fallback</a> (<a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> *primary, <a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> *<a class="el" href="structcsalt__store__fallback.html">fallback</a>)</td></tr>
<tr class="memdesc:a6eebad396d3783c275f5ad2bfbddb109"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for a <a class="el" href="structcsalt__store__fallback.html" title="Implements a fallback mechanism for read operations.">csalt_store_fallback</a>.  <br /></td></tr>
<tr class="separator:a6eebad396d3783c275f5ad2bfbddb109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c7a34f54110d2484d997fbfee39772" id="r_af0c7a34f54110d2484d997fbfee39772"><td class="memItemLeft" align="right" valign="top"><a id="af0c7a34f54110d2484d997fbfee39772" name="af0c7a34f54110d2484d997fbfee39772"></a>
ssize_t&#160;</td><td class="memItemRight" valign="bottom"><b>csalt_store_fallback_size</b> (<a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> *store)</td></tr>
<tr class="separator:af0c7a34f54110d2484d997fbfee39772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae932ab8d971b51a55d975d398ffdf2ee" id="r_ae932ab8d971b51a55d975d398ffdf2ee"><td class="memItemLeft" align="right" valign="top"><a id="ae932ab8d971b51a55d975d398ffdf2ee" name="ae932ab8d971b51a55d975d398ffdf2ee"></a>
ssize_t&#160;</td><td class="memItemRight" valign="bottom"><b>csalt_store_fallback_resize</b> (<a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> *store, ssize_t new_size)</td></tr>
<tr class="separator:ae932ab8d971b51a55d975d398ffdf2ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2623fa1cfd8df8c98b0d80a587a7cbe2" id="r_a2623fa1cfd8df8c98b0d80a587a7cbe2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2623fa1cfd8df8c98b0d80a587a7cbe2">csalt_store_fallback_array_bounds</a> (<a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> **begin, <a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> **end, struct <a class="el" href="structcsalt__store__fallback.html">csalt_store_fallback</a> *out_begin, struct <a class="el" href="structcsalt__store__fallback.html">csalt_store_fallback</a> *out_end)</td></tr>
<tr class="memdesc:a2623fa1cfd8df8c98b0d80a587a7cbe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an array of <a class="el" href="structcsalt__store__fallback.html" title="Implements a fallback mechanism for read operations.">csalt_store_fallback</a>'s from an array of store, in a linked-list configuration.  <br /></td></tr>
<tr class="separator:a2623fa1cfd8df8c98b0d80a587a7cbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a7dcd572769ac20dff2b292089d3686a9" id="r_a7dcd572769ac20dff2b292089d3686a9"><td class="memItemLeft" align="right" valign="top"><a id="a7dcd572769ac20dff2b292089d3686a9" name="a7dcd572769ac20dff2b292089d3686a9"></a>
const struct <a class="el" href="structcsalt__dynamic__store__interface.html">csalt_dynamic_store_interface</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>vtable</b></td></tr>
<tr class="separator:a7dcd572769ac20dff2b292089d3686a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6948e6d57fdf07ba71d5f87d2f1616" id="r_a1d6948e6d57fdf07ba71d5f87d2f1616"><td class="memItemLeft" align="right" valign="top"><a id="a1d6948e6d57fdf07ba71d5f87d2f1616" name="a1d6948e6d57fdf07ba71d5f87d2f1616"></a>
struct <a class="el" href="structcsalt__store__pair.html">csalt_store_pair</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pair</b></td></tr>
<tr class="separator:a1d6948e6d57fdf07ba71d5f87d2f1616"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements a fallback mechanism for read operations. </p>
<p><a class="el" href="store_2base_8h.html#a11675e342511af3aa97c5eba602bf16a" title="Function for reading from a store into a buffer.">csalt_store_read()</a> tries reading the first store first. If all the requested data are read, it returns immediately. Otherwise, it attempts to read the remaining data from later store. If data is read from later store successfully, it is written back into earlier store.</p>
<p>If any store returns an error code from <a class="el" href="store_2base_8h.html#a11675e342511af3aa97c5eba602bf16a" title="Function for reading from a store into a buffer.">csalt_store_read()</a>, the whole fallback store halts immediately and the contents of *buffer is undefined.</p>
<p><a class="el" href="store_2base_8h.html#ad012f848aecd0c48f043ee45bb970674" title="Function for writing to a store from a buffer.">csalt_store_write()</a> writes only to the first store in the list. The data can be written out to all store by calling csalt_store_fallback_flush() on the fallback.</p>
<p><a class="el" href="store_2base_8h.html#a9cc080c1664bce71c391378376ee993c" title="Provides the means to divide a store into a sub-section and perform an operation on the result.">csalt_store_split()</a> behaves similarly to <a class="el" href="structcsalt__store__pair.html" title="This type allows storing a pair of store and interacting with them as though they are a single store.">csalt_store_pair</a>, except that the result implements identical fallback logic. Note that the result of the split will be a <a class="el" href="structcsalt__static__store__fallback.html" title="Implements a fallback mechanism for read operations.">csalt_static_store_fallback</a>: you <em>must not</em> call <a class="el" href="store_2base_8h.html#ad47a3ee65977adeff80702346d90a339" title="Returns the current size of the given store.">csalt_store_size()</a> or <a class="el" href="store_2base_8h.html#a96fcd0921002a2d2196da629155db50e" title="Attempts to resize the store to the given new_size, then returns the size of the store once the opera...">csalt_store_resize()</a> on the result.</p>
<p><a class="el" href="store_2base_8h.html#ad47a3ee65977adeff80702346d90a339" title="Returns the current size of the given store.">csalt_store_size()</a> implements the same logic as for <a class="el" href="structcsalt__store__pair.html" title="This type allows storing a pair of store and interacting with them as though they are a single store.">csalt_store_pair</a>.</p>
<p><a class="el" href="store_2base_8h.html#a96fcd0921002a2d2196da629155db50e" title="Attempts to resize the store to the given new_size, then returns the size of the store once the opera...">csalt_store_resize()</a> implements the same logic as for <a class="el" href="structcsalt__store__pair.html" title="This type allows storing a pair of store and interacting with them as though they are a single store.">csalt_store_pair</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6eebad396d3783c275f5ad2bfbddb109" name="a6eebad396d3783c275f5ad2bfbddb109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eebad396d3783c275f5ad2bfbddb109">&#9670;&#160;</a></span>csalt_store_fallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcsalt__store__fallback.html">csalt_store_fallback</a> <a class="el" href="structcsalt__store__fallback.html">csalt_store_fallback</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> *</td>          <td class="paramname"><span class="paramname"><em>primary</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> *</td>          <td class="paramname"><span class="paramname"><em>fallback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for a <a class="el" href="structcsalt__store__fallback.html" title="Implements a fallback mechanism for read operations.">csalt_store_fallback</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">primary</td><td>The primary store to perform operations on. </td></tr>
    <tr><td class="paramname">fallback</td><td>The store to fall back on, should a read or write fail on the primary store.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A constructed <a class="el" href="structcsalt__store__fallback.html" title="Implements a fallback mechanism for read operations.">csalt_store_fallback</a>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2623fa1cfd8df8c98b0d80a587a7cbe2" name="a2623fa1cfd8df8c98b0d80a587a7cbe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2623fa1cfd8df8c98b0d80a587a7cbe2">&#9670;&#160;</a></span>csalt_store_fallback_array_bounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int csalt_store_fallback_array_bounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> **</td>          <td class="paramname"><span class="paramname"><em>begin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="store_2base_8h.html#ade7ea9b873a35735601952e72cc81a0a">csalt_store</a> **</td>          <td class="paramname"><span class="paramname"><em>end</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcsalt__store__fallback.html">csalt_store_fallback</a> *</td>          <td class="paramname"><span class="paramname"><em>out_begin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcsalt__store__fallback.html">csalt_store_fallback</a> *</td>          <td class="paramname"><span class="paramname"><em>out_end</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an array of <a class="el" href="structcsalt__store__fallback.html" title="Implements a fallback mechanism for read operations.">csalt_store_fallback</a>'s from an array of store, in a linked-list configuration. </p>
<p>Similar to the csalt_store_pair_list_bounds().</p>
<p>For statically allocated arrays, csalt_store_fallback_list() provides a convenience macro for calling this function.</p>
<p>This function should only be used directly for dynamically-allocated arrays.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">begin</td><td>The beginning of the array of store </td></tr>
    <tr><td class="paramname">end</td><td>The end of the array of store </td></tr>
    <tr><td class="paramname">out_begin</td><td>The beginning of the output array </td></tr>
    <tr><td class="paramname">out_end</td><td>The end of the output array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>csalt/store/<a class="el" href="store_2fallback_8h_source.html">fallback.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
